{"componentChunkName":"component---src-templates-post-tsx","path":"/hackday_1/","result":{"data":{"markdownRemark":{"html":"<h2 id=\"1-android-에-올릴-수-있는-모델-파일-생성\" style=\"position:relative;\"><a href=\"#1-android-%EC%97%90-%EC%98%AC%EB%A6%B4-%EC%88%98-%EC%9E%88%EB%8A%94-%EB%AA%A8%EB%8D%B8-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1\" aria-label=\"1 android 에 올릴 수 있는 모델 파일 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1) Android 에 올릴 수 있는 모델 파일 생성</h2>\n<blockquote>\n<p>이 부분은 시행착오이므로 정확하지 않을 수 있습니다.</p>\n</blockquote>\n<h3 id=\"1-tflite\" style=\"position:relative;\"><a href=\"#1-tflite\" aria-label=\"1 tflite permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(1) tflite</h3>\n<p>Keras모델은 주로 JSON(모델파일) + h5(HDF5/weight파일)로 저장합니다. <br>\n공식문서에서 tflite로 바꾸는 예제를 보고 코드를 추가했습니다.</p>\n<p><strong>Tensorflow Lite Converter</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> tensorflow <span class=\"token keyword\">as</span> tf\nconverter <span class=\"token operator\">=</span> tf<span class=\"token punctuation\">.</span>lite<span class=\"token punctuation\">.</span>TFLiteConverter<span class=\"token punctuation\">.</span>from_keras_model_file<span class=\"token punctuation\">(</span><span class=\"token string\">'model.h5'</span><span class=\"token punctuation\">)</span>\ntflite_model <span class=\"token operator\">=</span> converter<span class=\"token punctuation\">.</span>convert<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"model.tflite\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"wb\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>tflite_model<span class=\"token punctuation\">)</span></code></pre></div>\n<br>\n다음과 같은 오류가 떠서\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token string\">'TFLiteConverterV2'</span> has no attribute <span class=\"token string\">'from_keras_model_file'</span></code></pre></div>\n<p>tensorflow nightly를 설치를 해줬습니다. <del>진짜 오래걸림(약 2시간)</del>\n하지만 tf nightly를 설치해도 TFLiteConverter을 이용할 수 없었습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">model <span class=\"token operator\">=</span> load_model<span class=\"token punctuation\">(</span><span class=\"token string\">'model.h5'</span><span class=\"token punctuation\">)</span>\nconverter <span class=\"token operator\">=</span> tf<span class=\"token punctuation\">.</span>lite<span class=\"token punctuation\">.</span>TFLiteConverter<span class=\"token punctuation\">.</span>from_keras_model_file<span class=\"token punctuation\">(</span>model<span class=\"token punctuation\">)</span></code></pre></div>\n<p>모델이 불러와지지 않았습니다.</p>\n<p><code class=\"language-text\">load_model()</code>이 안 되는 원인을 분석한 결과,</p>\n<ul>\n<li>h5파일에 model, weights둘 다 들어가 있으면 문제가 없습니다. <code class=\"language-text\">model.save(&#39;model.h5&#39;)</code><br>\n위의 경우가 아니라면, json을 통해 해결가능 → tf nightly에선 안 됩니다..<br></li>\n<li><code class=\"language-text\">model = Sequential() ...(중략)</code> 로 모델을 만들어준 다음 <code class=\"language-text\">model.load_weights(&#39;model.h5&#39;)</code> 하면 학습한 모델과 같이 불러올 수 있습니다.<br>\n하지만 불러올 model과 레이어 등이 일치하게 만들어야 합니다.<br>\n그래서 '<em>준원님의 학습코드에서 에포크를 확 줄여서 학습하고 weight를 받아오면 되지 않을까?'</em> 라는 생각을 했는데 <code class=\"language-text\">AttributeError: module &#39;tensorflow.python.framework.ops&#39; has no attribute &#39;_TensorLike&#39;</code> 이 에러 등장! 이게 뭐냐 하면 방금 전 json에서 발생한 에러와 같습니다. → tf nighly에선...<br><br></li>\n<li>현재 학습 코드도 tf nightly에서 돌아가지 않습니다.<br></li>\n<li>따라서 텐서플로우를 1.5로 다운그레이드 했습니다.<br>\n<del>나중에 알게 되었지만, 처음엔 tf 버전2가 문제인 줄 알았고 버전1로 갔는데 그냥 nightly가 문제였습니다.</del><br>\n테스트를 위해 colab을 tf-nightly환경으로 만들어 놓았습니다. 그렇게 1.5와 tf-nightly 두 가지로 테스트해보기 시작했습니다.</li>\n</ul>\n<p>tf 1.5에서는 학습은 잘 돌아갔지만, tflite로 변환할 순 없었습니다.\n왜냐면 LSTM을 이용한 keras모델이었는데, tf 버전1에서는 TOCO converter만 지원하고, 이 컨버터는 LSTM을 지원하지 않습니다!</p>\n<p><img width=\"420\" alt=\"&#x1109;&#x1173;&#x110F;&#x1173;&#x1105;&#x1175;&#x11AB;&#x1109;&#x1163;&#x11BA; 2020-05-18 &#x110B;&#x1169;&#x110C;&#x1165;&#x11AB; 4 58 42\" src=\"https://user-images.githubusercontent.com/37680108/82695528-3ff5df80-9ca0-11ea-9970-d861be9bb6d9.png\"><br></p>\n<p>다행히 2020년인 지금 TFLiteConver을 통해 LSTM을 지원해줍니다.<br>\n<img width=\"420\" alt=\"&#x1109;&#x1173;&#x110F;&#x1173;&#x1105;&#x1175;&#x11AB;&#x1109;&#x1163;&#x11BA; 2020-05-18 &#x110B;&#x1169;&#x110C;&#x1165;&#x11AB; 5 01 13\" src=\"https://user-images.githubusercontent.com/37680108/82695533-42583980-9ca0-11ea-9ecf-4180553c244b.png\"><br>\n하지만 tf 버전2에서만 지원한다는 점!!!<br>\n이 때만 하더라도 tf 버전2가 tf-nightly인 줄 알았습니다. 무지한 게 죄입니다 ㅠㅠ <br>\n(tf-nightly는 개발 중인 버전이므로 불안정하다고 합니다.) <br>\nnightly에선 학습이 안 되고, TFLiteConverter는 2.0 이상에서 가능하니까 둘은 함께할 수 없다는 <strong>굉장히 아쉬운 판단</strong>을 내려버립니다.</p>\n<p>그렇게 시작된 삽질..!</p>\n<p>일단 모델을 불러오기 위해 다양한 시도를 했습니다.<br>\n경로를 통해 모델을 불러오고, json을 통해 불러오고, h5파일로 불러오고, model을 간단하게 만든 뒤 weight를 불러오고, 애초에 <code class=\"language-text\">model.save(&#39;model.h5&#39;)</code>로 h5에 전부 저장한 뒤 불러와보고...<br>\n이렇게 하다가 <strong>pb 파일로 변환시키는 것은 성공</strong>합니다! (당시엔 로컬이 1.5버전이라 TFLiteConverter 불가)<br>\n<img width=\"250\" alt=\"&#x1109;&#x1173;&#x110F;&#x1173;&#x1105;&#x1175;&#x11AB;&#x1109;&#x1163;&#x11BA; 2020-05-18 &#x110B;&#x1169;&#x1112;&#x116E; 7 00 30\" src=\"https://user-images.githubusercontent.com/37680108/82695636-6b78ca00-9ca0-11ea-97f4-8c3495338b17.png\"><br>\n하지만 pb파일을 tflite로 변환하는 것도 쉽지 않았습니다.<br></p>\n<blockquote>\n<p><img width=\"410\" alt=\"&#x1109;&#x1173;&#x110F;&#x1173;&#x1105;&#x1175;&#x11AB;&#x1109;&#x1163;&#x11BA; 2020-05-18 &#x110B;&#x1169;&#x1112;&#x116E; 11 39 04\" src=\"https://user-images.githubusercontent.com/37680108/82695640-6d428d80-9ca0-11ea-8694-6787a1afec12.png\"><br>\n<em>와중에 'keras에서 h5모델을 로드하는 방법' 보다가 '넌 할 수있어'보고 힘을 얻고^^..</em> <br>\n<em>원문은 'You can use' 인데 번역이 이렇게 된 것 같습니다.</em>\n<br><br></p>\n</blockquote>\n<p>그러다가 DL4J에 눈독을 들였고 잠시 갔다가 슬쩍 돌아왔습니다. ((2번) 참고)</p>\n<p>준원님께서 tflite로 변환하는 것 까지 있는 학습 코드를 올려주셔서 돌려보았습니다.\n테스트가 목적이었기 때문에 체크포인트 관련 코드는 주석처리했습니다.<br>\n<img width=\"530\" alt=\"&#x1109;&#x1173;&#x110F;&#x1173;&#x1105;&#x1175;&#x11AB;&#x1109;&#x1163;&#x11BA; 2020-05-19 &#x110B;&#x1169;&#x110C;&#x1165;&#x11AB; 12 34 55\" src=\"https://user-images.githubusercontent.com/37680108/82695738-a67afd80-9ca0-11ea-898e-48022b088446.png\"><br>\n이런 에러가 발생했고, 준원님도 이 에러를 계속 만나셨다고...!</p>\n<p>에러로 인한 분노를 애써 삼키며 코드를 다시 돌려보았습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Using TensorFlow backend.\nTraceback <span class=\"token punctuation\">(</span>most recent call last<span class=\"token punctuation\">)</span>:\nFile <span class=\"token string\">\"/Users/euzl/PycharmProjects/please/STT_Model.py\"</span>, line <span class=\"token number\">110</span>, <span class=\"token keyword\">in</span> <span class=\"token operator\">&lt;</span>module<span class=\"token operator\">></span>\nmodel <span class=\"token operator\">=</span> Sequential<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">(</span>중략<span class=\"token punctuation\">)</span>\nAttributeError: module <span class=\"token string\">'tensorflow'</span> has no attribute <span class=\"token string\">'get_default_graph'</span></code></pre></div>\n<p>위와 같은 에러가 발생했는데, 검색해보니 from keras를 from tensorflow.keras로 바꾸라고 했습니다. 그랬더니 <strong>갑자기 tflite가 만들어 집니다</strong>.... ?!</p>\n<p>tensorflow.keras로 바꾼 뒤 정확도 issue가 있었지만, 나중에 준원님께서 해결해 주셨습니다!\n(해결법 요약 : 다시 from keras로 바꿈 -> h5모델로 저장 -> tflite로 변환)<br><br></p>\n<h3 id=\"2-dl4j\" style=\"position:relative;\"><a href=\"#2-dl4j\" aria-label=\"2 dl4j permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(2) DL4J</h3>\n<p>간단히 넘어가겠습니다.</p>\n<ol>\n<li>dl4j에서 사용할 수 있는 모델 파일로 변환하는 것은 tflite로 변환하는 것보다는 수월해 보였다. (위에서 한창 삽질하고 있을 때)</li>\n<li>변환에 성공하면 android studio에서 모델을 불러오고, 사용한다는 점에서 어렵지 않으리라 생각했다.</li>\n<li>JAVA코드를 통해 변환해야 했다.</li>\n<li>android studio에서 변환하려고 했는데.. 기본 셋팅이 엄청 어려웠다. </li>\n<li>시간은 없는데 새로 알아야 하는 정보가 너무 많았다. 안다고 해서 되리라는 보장도 없었다. 레퍼런스도 tflite도 적었는데 dl4j는 더 적었다.</li>\n<li>JAVA에서 변환하려고 하고 있었다. 그러려면 DL4J도 설치해야 했다.</li>\n<li>멘토님의 말을 듣고 확신 없는 것은 tflite와 같기 때문에 tflite에 집중하기로 결정했다.\n<br><br></li>\n</ol>\n<h2 id=\"2-안드로이드에-올리기\" style=\"position:relative;\"><a href=\"#2-%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C%EC%97%90-%EC%98%AC%EB%A6%AC%EA%B8%B0\" aria-label=\"2 안드로이드에 올리기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2) 안드로이드에 올리기</h2>\n<p>역할 분담을 통해, 만들어진 tflite파일을 이용해 안드로이드 연동을 시작했습니다.</p>\n<p>tensorflow에서 공개한 'Text classification'예제 코드와 'Image classification'예제 코드를 분석하면서 interface를 이용해서 모델을 읽고 추론한다는 것을 알게 되었습니다.</p>\n<p><a href=\"https://quizee-ab.tistory.com/14\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">tensorflow-lite 인터프리터에 대한 설명 (링크)</a>\n<br><br></p>\n<h3 id=\"1-모델-파일-안드로이드-프로젝트에-추가하기\" style=\"position:relative;\"><a href=\"#1-%EB%AA%A8%EB%8D%B8-%ED%8C%8C%EC%9D%BC-%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EC%97%90-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\" aria-label=\"1 모델 파일 안드로이드 프로젝트에 추가하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(1) 모델 파일 안드로이드 프로젝트에 추가하기</h3>\n<ol>\n<li>Android를 <code class=\"language-text\">Project</code>로 바꾼다.</li>\n<li><code class=\"language-text\">main폴더</code>에 <strong><code class=\"language-text\">assets 폴더</code></strong>를 생성</li>\n<li><code class=\"language-text\">model.tflite</code>, <code class=\"language-text\">labels.txt</code>, <code class=\"language-text\">vodab.txt</code> 를 넣어준다.<br>\n<img width=\"400\" alt=\"&#x1109;&#x1173;&#x110F;&#x1173;&#x1105;&#x1175;&#x11AB;&#x1109;&#x1163;&#x11BA; 2020-05-19 &#x110B;&#x1169;&#x1112;&#x116E; 5 34 08\" src=\"https://user-images.githubusercontent.com/37680108/82695848-dfb36d80-9ca0-11ea-8b40-7258169a357a.png\">\n<br><br></li>\n</ol>\n<h3 id=\"2-gradle-파일-수정\" style=\"position:relative;\"><a href=\"#2-gradle-%ED%8C%8C%EC%9D%BC-%EC%88%98%EC%A0%95\" aria-label=\"2 gradle 파일 수정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(2) gradle 파일 수정</h3>\n<ol>\n<li>build.gradle (Module :app) 에 다음 내용 추가</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">dependencies {\n\t\t...\n\t\timplementation &#39;org.tensorflow:tensorflow-lite:+&#39;\n}</code></pre></div>\n<br>\n2) build.gradle (Module :app) 의 android부분에 `aaptOptions` 추가 <br>\n→ 모델  파일이 압축되는 것을 방지함 (이걸 하지 않으면 메모리를 절약하기 위해 리소스를 압축한다고 하네요)\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">android {\n\t\t...\n    aaptOptions {\n        noCompress &quot;tflite&quot;\n    }\n}</code></pre></div>\n<ol start=\"3\">\n<li><code class=\"language-text\">Sync now</code> 동기화 진행\n<br><br></li>\n</ol>\n<h3 id=\"3-에러-발생\" style=\"position:relative;\"><a href=\"#3-%EC%97%90%EB%9F%AC-%EB%B0%9C%EC%83%9D\" aria-label=\"3 에러 발생 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(3) 에러 발생👾</h3>\n<p>우리 앱에 모델을 읽는 코드를 작성하기도 하고, 예제 프로젝트에 모델을 올려보는 시도를 했는데 둘 다 에러가 발생했다. 굉장히 답답한 것이... 분명 어딘가 잘 못 되었는데 logcat에는 아무 것도 뜨지 않았다. 디버깅을 해보면 run함수에서 멈추고 loop함수를 돌 뿐.. <br>\n<img width=\"700\" alt=\"&#x1109;&#x1173;&#x110F;&#x1173;&#x1105;&#x1175;&#x11AB;&#x1109;&#x1163;&#x11BA; 2020-05-19 &#x110B;&#x1169;&#x1112;&#x116E; 8 06 21\" src=\"https://user-images.githubusercontent.com/37680108/82695909-f5c12e00-9ca0-11ea-9c8f-09228e1011d2.png\"></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">2020-05-20 01:20:52.272 16860-16860/com.euzl.plztflite E/AndroidRuntime: FATAL EXCEPTION: main\n    java.lang.IllegalArgumentException: Cannot convert between a TensorFlowLite tensor with type FLOAT32 and a Java object of type [Ljava.lang.String; (which is compatible with the TensorFlowLite type STRING).</code></pre></div>\n<p>input타입을 float로 바꿔 보았지만 효과는 없었다. <br>\n아는 분께 <code class=\"language-text\">tflite.run(input, output)</code> 에서 안 된다고 했더니 '모델의 input, output이 뭐냐'고 물어 보셨다. 그렇다. 나는 <strong>모델의 input과 output도 모른채</strong> 연동하고 있었다.</p>\n<p>모델 학습 코드를 찬찬히 다시 살펴봤다. 학습 전 데이터와 라벨에 <code class=\"language-text\">정수 인코딩</code>을 해준 뒤 라벨만 <code class=\"language-text\">원-핫 인코딩</code>을 하는 부분이 있었다. 따라서 인풋은 정수이고, 라벨은 정수로 된 이중 벡터일 것이라 생각했다. <code class=\"language-text\">[[0, 0, 1], [0, 1, 0], [1, 0, 0]]</code> 이런 느낌! </p>\n<p>이렇게 수정해서 넣었는데 실패 ~!\n<br><br></p>\n<h3 id=\"4-예제-모델부터-다시\" style=\"position:relative;\"><a href=\"#4-%EC%98%88%EC%A0%9C-%EB%AA%A8%EB%8D%B8%EB%B6%80%ED%84%B0-%EB%8B%A4%EC%8B%9C\" aria-label=\"4 예제 모델부터 다시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(4) 예제 모델부터 다시</h3>\n<p>핵데이 마감일이 이틀 남았기에 멘토님, 팀원과 긴급 행아웃 회의를 했다. 혼날 줄 알았는데 허심탄회한 대화로 이어졌다. 나는 <code class=\"language-text\">koalanlp</code>를 사용하는 방안을 얘기했는데, 멘토님께서는 '그렇게 하면 핵데이에서 얻어갈 수 있는 것이 없다.'며 딱 3시간만 준원님은 정확도를 높이는 연구를 하고 (다른 프레임워크도 고려), 나는 예제 모델을 우리 애플리케이션에 올리는 것을 시도하라고 하셨다. 또, 다른 변수는 배제하고 주어진 예제부터 하라고 하셨다.</p>\n<p>예제 모델을 우리 앱에 올리던 중 이런 에러가 발생!!</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token number\">2020</span>-05-20 05:06:19.451 <span class=\"token number\">4343</span>-6887/? E/Auth: <span class=\"token punctuation\">[</span>GoogleAccountDataServiceImpl<span class=\"token punctuation\">]</span> getToken<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> -<span class=\"token operator\">></span> BAD_AUTHENTICATION. Account: <span class=\"token punctuation\">[</span>ELLIDED:-323920191<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>ellided:-323920191<span class=\"token punctuation\">)</span>, App: com.google.android.gms, Service: oauth2:<span class=\"token punctuation\">[</span>https://www.googleapis.com/auth/login_manager<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>https://www.googleapis.com/auth/login_manager<span class=\"token punctuation\">)</span>\nsgx: Long live credential not available.</code></pre></div>\n<p>google_services.json 를 확인해보라고 해서 팀원분께 요청 뒤 다시 넣었는데 변화가 없었다. 당연하다. 이 파일 문제가 아니기 때문이다. 우리 앱은 login에서 시작되는데, 테스트용 액티비티부터 시작하게 바꿔서 발생한 에러였다.</p>\n<p>시작을 다시 login으로 바꾸고, 테스트용 액티비티는 버튼을 통해 시작되도록 바꿨더니 해결되었다.</p>\n<p>아무튼 예제모델 올리기 성공!\n<br><br></p>\n<h3 id=\"5-우리의-모델을-올려보자\" style=\"position:relative;\"><a href=\"#5-%EC%9A%B0%EB%A6%AC%EC%9D%98-%EB%AA%A8%EB%8D%B8%EC%9D%84-%EC%98%AC%EB%A0%A4%EB%B3%B4%EC%9E%90\" aria-label=\"5 우리의 모델을 올려보자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(5) 우리의 모델을 올려보자</h3>\n<p>사실 (3)번에서 발생한 문제만 해결하면 거의 끝났다.<br>\n하지만 (3)번을 할 때와 다른 점이 있다면, (4)번 과정이 있었기 때문에 (3)번 문제만 해결되면 거의 끝이라는 것! 이 말은 input, output만 찾으면 끝난다!!!!!!!\n<br><br></p>\n<p><strong>1. input 전처리</strong></p>\n<p>input을 전처리하는 부분 코드를 보니 사용자가 입력한 텍스트를 어절 단위로 쪼갠 뒤, vocab를 통해서 정수로 바꿔주었다. 그런데 이 방식이 모델 학습시 정수인코딩할 때 하는 Tokenizer와 같았다. 따라서 tokenizer의 내장함수를 이용해서 vocab파일을 만들었다. <br>\n그리고 input데이터에 padding이 포함되어있어서 (input+padding)전체 길이를 받아 맞춰주었다.\n<br><br></p>\n<p><strong>2. output 찾기</strong></p>\n<p>output의 형태를 미리 알아야 하는 이유는 <code class=\"language-text\">tflite.run(input, output);</code> 로 파라미터를 넣어서 호출한다. 따라서 input을 넣어 추론한 결과가 output에 저장되어 나온다.</p>\n<p>제일 먼저 파이썬에서 tflite로 변환한 뒤, output detail을 출력을 시도했다.<br>\n그런데 <code class=\"language-text\">contrib가 없다</code>는 에러 발생!</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">contrib is not inside TF <span class=\"token number\">2.0</span>. object_detection should use TF <span class=\"token number\">1.15</span> <span class=\"token keyword\">for</span> now</code></pre></div>\n<p>2.0 부터는 포함 안된다. 간단하다. <code class=\"language-text\">tf.contrib.lite</code>  를 <code class=\"language-text\">tf.lite</code>  로 바꿔주면 끝!\n<br><br></p>\n<p><strong>output detail 프린트결과</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span><span class=\"token string\">'name'</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">'Identity'</span>, <span class=\"token string\">'index'</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">126</span>, <span class=\"token string\">'shape'</span><span class=\"token builtin class-name\">:</span> array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>, <span class=\"token assign-left variable\">dtype</span><span class=\"token operator\">=</span>int32<span class=\"token punctuation\">)</span>, <span class=\"token string\">'shape_signature'</span><span class=\"token builtin class-name\">:</span> array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>, <span class=\"token assign-left variable\">dtype</span><span class=\"token operator\">=</span>int32<span class=\"token punctuation\">)</span>, <span class=\"token string\">'dtype'</span><span class=\"token builtin class-name\">:</span> <span class=\"token operator\">&lt;</span>class <span class=\"token string\">'numpy.float32'</span><span class=\"token operator\">></span>, <span class=\"token string\">'quantization'</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0.0</span>, <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>, <span class=\"token string\">'quantization_parameters'</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'scales'</span><span class=\"token builtin class-name\">:</span> array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>, <span class=\"token assign-left variable\">dtype</span><span class=\"token operator\">=</span>float32<span class=\"token punctuation\">)</span>, <span class=\"token string\">'zero_points'</span><span class=\"token builtin class-name\">:</span> array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>, <span class=\"token assign-left variable\">dtype</span><span class=\"token operator\">=</span>int32<span class=\"token punctuation\">)</span>, <span class=\"token string\">'quantized_dimension'</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">}</span>, <span class=\"token string\">'sparsity_parameters'</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>흠.. dtype을 봤을 때 float로 된 배열이라는 것만 알겠다..</p>\n<p>그렇게 삽질만 하다가 오프라인 미팅을 정하기 위한 마지막 전체 행아웃 회의를 했다. 끝나고 준원님과 행아웃에 남아서 input, output을 찾기 시작했다.</p>\n<p>예제 프로젝트를 분석하다가 알게 되었는데, 안드로이드에서 인터프리터를 통해 나오는 output은 각 라벨에 대한 정확도이다. 예제 같은 경우 라벨이 2개인데, <code class=\"language-text\">[[0.35 0.65] [0.53 0.47] ...]</code> 이런 형식으로 output에 저장되었다. (ex. 라벨1정확도 = 0.35, 라벨2정확도 = 0.65)이때 두번째 데이터부터 패딩이라면 output[0]만이 필요한 부분이다. output[1]부터는 패딩에 대한 결과이기 때문이다. (input으로 넣어주는 데이터의 갯수마다 다르다. 만약 input이 다섯개까지 의미 있는 데이터라면, output[5]부터 패딩에 대한 결과다. 우리 모델은 첫번째 데이터 빼고 다 패딩값이다. 그냥 input과 매칭된다 생각하면 됨! LSTM의 many-to-many를 사용해서 그렇다.)</p>\n<p>암튼 파이썬 코드에서 예측값, 실제값을 출력하는 코드를 보다가 준원님과 출력했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">y_predicted <span class=\"token operator\">=</span> model<span class=\"token punctuation\">.</span>predict<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>X_test<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"language-text\">print(y_predicted)</code>의 결과 ㅠㅠ</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.11467472</span> <span class=\"token number\">0.11449986</span> <span class=\"token number\">0.11310288</span> <span class=\"token number\">0.11348396</span> <span class=\"token number\">0.11331331</span> <span class=\"token number\">0.10842343</span> <span class=\"token number\">0.10740846</span> <span class=\"token number\">0.10839051</span> <span class=\"token number\">0.1067029</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0.11396125</span> <span class=\"token number\">0.11315132</span> <span class=\"token number\">0.11211114</span> <span class=\"token number\">0.1129631</span> <span class=\"token number\">0.11216038</span> <span class=\"token number\">0.10940797</span> <span class=\"token number\">0.10892657</span> <span class=\"token number\">0.10931582</span> <span class=\"token number\">0.10800253</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">..</span>. <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p><strong>애자일이 해냈다 ㅠㅠㅠ</strong> 준원님 화면을 공유해서 같이 봤는데, 출력 되는 순간 뇌에 소름이 돋았다. 아직까진 생생하다. 우뇌였다.</p>\n<p>X_test[i]도 출력해서 <code class=\"language-text\">1)</code>할 때 반영했다.\n<br><br></p>\n<p><strong>3. 실행 그리고 성공</strong></p>\n<p>또 또 또 실행이 안 됐다. <code class=\"language-text\">(3)번 에러</code> 발생.. 무엇이 문제일까 하다가 android에 있는 labels에는 라벨이 7개인데 파이썬에선 8개인게 발견되었다. 'type'도 들어갔기 때문..! 라벨파일에 type도 추가해주었다.</p>\n<p>또한, 학습 코드에서 <code class=\"language-text\">tag_size = len(tar_tokenizer.word_index) + 1</code> 이 부분이 있기 때문에 <code class=\"language-text\">labels.size() + 1</code> 해줬다. 성공적⭐️</p>\n<p>최종 input, output이다. (MAX_LEN == 패딩을 포함한 인풋길이)<br>\n<img width=\"400\" alt=\"&#x1109;&#x1173;&#x110F;&#x1173;&#x1105;&#x1175;&#x11AB;&#x1109;&#x1163;&#x11BA; 2020-05-23 &#x110B;&#x1169;&#x110C;&#x1165;&#x11AB; 2 16 13\" src=\"https://user-images.githubusercontent.com/37680108/82696104-56e90180-9ca1-11ea-8e1b-c5f8d76a3749.png\"><br>\n그랬더니 드디어!! run함수를 지나갔다!!!<br>\n<img width=\"400\" alt=\"&#x1109;&#x1173;&#x110F;&#x1173;&#x1105;&#x1175;&#x11AB;&#x1109;&#x1163;&#x11BA; 2020-05-23 &#x110B;&#x1169;&#x110C;&#x1165;&#x11AB; 2 19 21\" src=\"https://user-images.githubusercontent.com/37680108/82696079-49cc1280-9ca1-11ea-824e-33ae74b0ba4b.png\"><br>\n이 순간을 담은 slack 캡쳐</p>\n<p>그렇게 애자일 신봉자가 되었습니다.\n<br><br></p>\n<h2 id=\"3-문장에서-라벨-추출\" style=\"position:relative;\"><a href=\"#3-%EB%AC%B8%EC%9E%A5%EC%97%90%EC%84%9C-%EB%9D%BC%EB%B2%A8-%EC%B6%94%EC%B6%9C\" aria-label=\"3 문장에서 라벨 추출 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3) 문장에서 라벨 추출</h2>\n<p>프로젝트에서는 필요한 부분이지만, 모델을 안드로이드에 올린 이후라 생략하겠습니다.</p>\n<p>끝낸 당시 적은 글</p>\n<blockquote>\n<p>우와... 됐다...해냈다...<br>해낼 줄 몰랐는데........<br>이게 되네....?</p>\n</blockquote>\n<br>\n<h2 id=\"4-마치며\" style=\"position:relative;\"><a href=\"#4-%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"4 마치며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4) 마치며</h2>\n<h3 id=\"1-중간-후기-편지\" style=\"position:relative;\"><a href=\"#1-%EC%A4%91%EA%B0%84-%ED%9B%84%EA%B8%B0-%ED%8E%B8%EC%A7%80\" aria-label=\"1 중간 후기 편지 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(1) 중간 <del>후기</del> 편지</h3>\n<p>끝까지 끈기 있게 모델을 만들어 준 파이썬 장인 준원님께 고맙습니다. 스스로가 자신감이 많이 떨어졌는데 덕분에 힘내서 마지막까지 할 수 있었습니다. 멘탈이 터졌을지도 몰라요. 멘토님께도 감사합니다. 초반에 많이 질문을 안 해서 아쉽습니다. '1시간'으로 제한도 걸어 주셨는데 '조금만 조금만' 하다가 시간을 많이 날리기도 했습니다. 그리고 순서의 중요성을 느꼈습니다. (멘토님은 코딩계의 백종원...) version 2 회고를 못했을 때 해주신 말씀에서 많이 느꼈고 이후 좀 더 원활한 커뮤니케이션이 됐던 것 같아요. 그리고 목표를 이루게 되어서 지난 10일간의 공부와 행동들이 굉장히 의미있는 시간이 되었습니다. 멘토님은 코알라nlp로 전향하지 않게 방향을 잡아주시고, 준원님은 모델개발에 성공해주셔서 감사합니다🔥</p>\n<h3 id=\"2-기억할-것\" style=\"position:relative;\"><a href=\"#2-%EA%B8%B0%EC%96%B5%ED%95%A0-%EA%B2%83\" aria-label=\"2 기억할 것 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(2) 기억할 것</h3>\n<ul>\n<li>차근차근</li>\n<li>알고 쓰자</li>\n<li>질문을 많이하자 (모르면 물어봐라)</li>\n<li>고민사항도 얘기하자</li>\n</ul>\n<p>🔜모든 내용은 다음 게시물에 계속</p>","excerpt":"1) Android 에 올릴 수 있는 모델 파일 생성 이 부분은 시행착오이므로 정확하지 않을 수 있습니다. (1) tflite Keras모델은 주로 JSON(모델파일) + h5(HDF5/weight파일)로 저장합니다. \n공식문서에서 tflite…","tableOfContents":"<ul>\n<li>\n<p><a href=\"/hackday_1/#1-android-%EC%97%90-%EC%98%AC%EB%A6%B4-%EC%88%98-%EC%9E%88%EB%8A%94-%EB%AA%A8%EB%8D%B8-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1\">1) Android 에 올릴 수 있는 모델 파일 생성</a></p>\n<ul>\n<li><a href=\"/hackday_1/#1-tflite\">(1) tflite</a></li>\n<li><a href=\"/hackday_1/#2-dl4j\">(2) DL4J</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/hackday_1/#2-%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C%EC%97%90-%EC%98%AC%EB%A6%AC%EA%B8%B0\">2) 안드로이드에 올리기</a></p>\n<ul>\n<li><a href=\"/hackday_1/#1-%EB%AA%A8%EB%8D%B8-%ED%8C%8C%EC%9D%BC-%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EC%97%90-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\">(1) 모델 파일 안드로이드 프로젝트에 추가하기</a></li>\n<li><a href=\"/hackday_1/#2-gradle-%ED%8C%8C%EC%9D%BC-%EC%88%98%EC%A0%95\">(2) gradle 파일 수정</a></li>\n<li><a href=\"/hackday_1/#3-%EC%97%90%EB%9F%AC-%EB%B0%9C%EC%83%9D\">(3) 에러 발생👾</a></li>\n<li><a href=\"/hackday_1/#4-%EC%98%88%EC%A0%9C-%EB%AA%A8%EB%8D%B8%EB%B6%80%ED%84%B0-%EB%8B%A4%EC%8B%9C\">(4) 예제 모델부터 다시</a></li>\n<li><a href=\"/hackday_1/#5-%EC%9A%B0%EB%A6%AC%EC%9D%98-%EB%AA%A8%EB%8D%B8%EC%9D%84-%EC%98%AC%EB%A0%A4%EB%B3%B4%EC%9E%90\">(5) 우리의 모델을 올려보자</a></li>\n</ul>\n</li>\n<li><a href=\"/hackday_1/#3-%EB%AC%B8%EC%9E%A5%EC%97%90%EC%84%9C-%EB%9D%BC%EB%B2%A8-%EC%B6%94%EC%B6%9C\">3) 문장에서 라벨 추출</a></li>\n<li>\n<p><a href=\"/hackday_1/#4-%EB%A7%88%EC%B9%98%EB%A9%B0\">4) 마치며</a></p>\n<ul>\n<li><a href=\"/hackday_1/#1-%EC%A4%91%EA%B0%84-%ED%9B%84%EA%B8%B0-%ED%8E%B8%EC%A7%80\">(1) 중간 <del>후기</del> 편지</a></li>\n<li><a href=\"/hackday_1/#2-%EA%B8%B0%EC%96%B5%ED%95%A0-%EA%B2%83\">(2) 기억할 것</a></li>\n</ul>\n</li>\n</ul>","fields":{"slug":"/hackday_1/"},"frontmatter":{"title":"Android에 머신러닝을 붙이기 위해 겪은 고통","date":"May 23, 2020","tags":["핵데이","diary","오늘의에러","tflite","Android"],"keywords":["머신러닝","머신러닝 안드로이드에","tflite 변환","h5"],"update":"Jan 01, 0001"}}},"pageContext":{"slug":"/hackday_1/","series":[{"slug":"/hackday_1/","title":"Android에 머신러닝을 붙이기 위해 겪은 고통","num":1},{"slug":"/hackday_2/","title":"2020 NAVER CAMPUS HACKDAY summer 후기","num":2}],"lastmod":"0001-01-01"}}}